#TOWER
fill -174 6 -7 -174 8 -9 air replace iron_bars
execute as @a[tag=L1,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Coliseum","color":"red","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -233 9 10
execute as @a[tag=L2,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Lab","color":"aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -209 19 -92
execute as @a[tag=L3,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Trading Area","color":"green","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -234 14 -103
execute as @a[tag=L4,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Gallery","color":"yellow","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -246 9 -27
execute as @a[tag=L5,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Parameters","color":"gray","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -151 35 -61
execute as @a[tag=L6,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Party Scheduler","color":"gold","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -326 3 -8
execute as @a[tag=L7,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Archives","color":"light_purple","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -316 1 7
execute as @a[tag=L8,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Minigame Creator","color":"dark_aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:0b}] store success score @s 3 run tp -299 4 41
execute as @a[tag=L1,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Coliseum","color":"red","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -233 9 10
execute as @a[tag=L2,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Lab","color":"aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -209 19 -92
execute as @a[tag=L3,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Trading Area","color":"green","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -234 14 -103
execute as @a[tag=L4,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Gallery","color":"yellow","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -246 9 -27
execute as @a[tag=L5,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Parameters","color":"gray","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -151 35 -61
execute as @a[tag=L6,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Party Scheduler","color":"gold","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -326 3 -8
execute as @a[tag=L7,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Archives","color":"light_purple","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -316 1 7
execute as @a[tag=L8,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Minigame Creator","color":"dark_aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:8b}] store success score @s 3 run tp -299 4 41
execute as @a[tag=L1,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Coliseum","color":"red","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -233 9 10
execute as @a[tag=L2,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Lab","color":"aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -209 19 -92
execute as @a[tag=L3,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Trading Area","color":"green","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -234 14 -103
execute as @a[tag=L4,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Gallery","color":"yellow","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -246 9 -27
execute as @a[tag=L5,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Parameters","color":"gray","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -151 35 -61
execute as @a[tag=L6,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Party Scheduler","color":"gold","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -326 3 -8
execute as @a[tag=L7,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Archives","color":"light_purple","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -316 1 7
execute as @a[tag=L8,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Minigame Creator","color":"dark_aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:18b}] store success score @s 3 run tp -299 4 41
execute as @a[tag=L1,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Coliseum","color":"red","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -233 9 10
execute as @a[tag=L2,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Lab","color":"aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -209 19 -92
execute as @a[tag=L3,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Trading Area","color":"green","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -234 14 -103
execute as @a[tag=L4,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Gallery","color":"yellow","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -246 9 -27
execute as @a[tag=L5,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Parameters","color":"gray","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -151 35 -61
execute as @a[tag=L6,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Party Scheduler","color":"gold","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -326 3 -8
execute as @a[tag=L7,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Archives","color":"light_purple","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -316 1 7
execute as @a[tag=L8,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Minigame Creator","color":"dark_aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:26b}] store success score @s 3 run tp -299 4 41
execute as @a[tag=L1,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Coliseum","color":"red","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -233 9 10
execute as @a[tag=L2,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Lab","color":"aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -209 19 -92
execute as @a[tag=L3,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Trading Area","color":"green","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -234 14 -103
execute as @a[tag=L4,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Gallery","color":"yellow","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -246 9 -27
execute as @a[tag=L5,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Parameters","color":"gray","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -151 35 -61
execute as @a[tag=L6,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Party Scheduler","color":"gold","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -326 3 -8
execute as @a[tag=L7,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Archives","color":"light_purple","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -316 1 7
execute as @a[tag=L8,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Minigame Creator","color":"dark_aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:9b}] store success score @s 3 run tp -299 4 41
execute as @a[tag=L1,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Coliseum","color":"red","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -233 9 10
execute as @a[tag=L2,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Lab","color":"aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -209 19 -92
execute as @a[tag=L3,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Trading Area","color":"green","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -234 14 -103
execute as @a[tag=L4,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Gallery","color":"yellow","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -246 9 -27
execute as @a[tag=L5,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Parameters","color":"gray","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -151 35 -61
execute as @a[tag=L6,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Party Scheduler","color":"gold","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -326 3 -8
execute as @a[tag=L7,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Archives","color":"light_purple","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -316 1 7
execute as @a[tag=L8,tag=!m-g] at @s unless data entity @s EnderItems[{}].tag.display{Name:'{"text":"Minigame Creator","color":"dark_aqua","bold":true,"italic":false}'} unless data entity @s EnderItems[{Slot:17b}] store success score @s 3 run tp -299 4 41

#GALLERY
particle portal -287 7 -22 0 0 0 1 3 normal @a[tag=!N0]
particle portal -287 7 6 0 0 0 1 3 normal @a[tag=!N0]
tp @a[x=-287,y=6,z=-22,dy=3] -151 35 -61
tp @a[x=-287,y=6,z=6,dy=3] -151 35 -61
function library:event/loop
#TRADING AREA
function library:prize/set
#MINING AREA
execute as @a[tag=mg0] at @s anchored eyes run function mk:mine/0
execute as @a[tag=mg0-1] at @s anchored eyes run function mk:mine/-1
execute as @a[tag=mg0-2] at @s anchored eyes run function mk:mine/-2
execute as @a[tag=mg0-3] at @s anchored eyes run function mk:mine/-3
execute as @a[tag=mg0-1,scores={d=1..},tag=!1] at @s if entity @s[x=-113,y=12,z=-8,dy=20] run tp @s -113 14 -8
execute as @a[tag=mg0-2,scores={d=1..},tag=!1] at @s if entity @s[x=-113,y=12,z=-8,dy=20] run tp @s -113 14 -8
execute as @a[tag=mg0-3,scores={d=1..},tag=!1] at @s if entity @s[x=-113,y=12,z=-8,dy=20] run tp @s -113 14 -8
#MGC
execute if entity @a[x=-309,y=0,z=53,dx=20,dy=18,dz=21] run function library:game/loop
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -311 8 50 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -287 8 50 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -284 8 56 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -287 8 76 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -293 8 79 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -305 8 79 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=true] run setblock -311 8 76 redstone_lamp[lit=true]
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -311 8 50 redstone_lamp
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -287 8 50 redstone_lamp
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -284 8 56 redstone_lamp
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -287 8 76 redstone_lamp
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -293 8 79 redstone_lamp
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -305 8 79 redstone_lamp
execute if block -299 4 44 #trigger_blocks[powered=false] run setblock -311 8 76 redstone_lamp
#title
execute if entity @e[type=!player,x=-304,y=4,z=44,dy=2,limit=1] run data merge block -299 7 46 {Text2:'{"selector":"@e[type=!player,x=-304,y=4,z=44,dy=2,limit=1] ","color":"yellow","bold":true}'}
execute if entity @e[type=!player,x=-304,y=4,z=43,dy=2,limit=1] run data merge block -299 7 46 {Text3:'{"selector":"@e[type=!player,x=-304,y=4,z=43,dy=2,limit=1] ","color":"yellow","bold":true}'}
execute if data block -299 7 46 {Text2:'{"bold":true,"color":"yellow","text":"???"}'} if entity @e[type=!player,x=-304,y=4,z=43,dy=2,limit=1] run data merge block -299 7 46 {Text2:''}
execute if data block -299 7 46 {Text2:'{"bold":true,"color":"yellow","text":" "}'} run data merge block -299 7 46 {Text2:'{"text":"???","color":"yellow","bold":true}'}
execute if data block -299 7 46 {Text2:'{"bold":true,"color":"yellow","text":""}'} run data merge block -299 7 46 {Text2:'{"text":"???","color":"yellow","bold":true}'}
execute if data block -299 7 46 {Text2:'{"text":""}'} run data merge block -299 7 46 {Text2:'{"text":"???","color":"yellow","bold":true}'}
execute as @e[type=slime,tag=t1tle,tag=!t1tle2,x=-301,y=13,z=54,dx=4,dy=2,limit=1] at @s run data modify entity @e[tag=mgc_t1tle,limit=1] CustomName set from entity @s CustomName
execute as @e[type=slime,tag=t1tle2,x=-301,y=13,z=54,dx=4,dy=2,limit=1] at @s run data modify entity @e[tag=mgc_t1tle2,limit=1] CustomName set from entity @s CustomName
data modify entity @e[tag=mgc_b4r,limit=1] CustomName set from entity @e[type=slime,tag=t1tle,x=-290,y=14,z=63,dy=2,limit=1] CustomName
execute as @e[type=slime,tag=t1tle,tag=!t1tle2,x=-301,y=13,z=54,dx=4,dy=2,limit=1] at @s unless data entity @s CustomName run kill @e[tag=mgc_t1tle]
execute as @e[type=slime,tag=t1tle2,x=-301,y=13,z=54,dx=4,dy=2,limit=1] at @s unless data entity @s CustomName run kill @e[tag=mgc_t1tle2]
execute as @e[tag=mgc_b4r] at @s unless data entity @e[type=slime,tag=t1tle,x=-290,y=14,z=63,dy=2,limit=1] CustomName run kill
tp @e[type=slime,tag=t1tle] ~ -1000 ~
execute unless entity @a[tag=ed1t] unless entity @a[tag=3dit] unless entity @a[scores={mgc=-1..}] unless block -299 7 46 spruce_wall_sign{Text2:'{"bold":true,"color":"yellow","text":"???"}'} run function library:game/open
execute if block -299 7 46 spruce_wall_sign{Text2:'{"bold":true,"color":"yellow","text":"???"}'} run function library:game/lock
execute unless entity @a[scores={mgc=-1..}] unless entity @a[tag=3dit] run setblock -299 4 53 structure_block[mode=save]{metadata:"",mirror:"NONE",ignoreEntities:0b,posX:-38,mode:"SAVE",posY:-4,sizeX:48,posZ:-7,integrity:1.0f,showair:0b,name:"minecraft:minigame",sizeY:17,sizeZ:27,showboundingbox:0b} keep
execute unless entity @a[scores={mgc=-1..}] unless entity @a[tag=3dit] run fill -299 4 53 -299 4 53 structure_block[mode=save]{metadata:"",mirror:"NONE",ignoreEntities:0b,posX:-38,mode:"SAVE",posY:-4,sizeX:48,posZ:-7,integrity:1.0f,showair:0b,name:"minecraft:minigame",sizeY:17,sizeZ:27,showboundingbox:0b} replace chiseled_stone_bricks
execute if entity @a[scores={mgc=-1..}] run setblock -299 4 53 chiseled_stone_bricks
execute if entity @a[tag=3dit] run setblock -299 4 53 chiseled_stone_bricks
#reset
execute if block -299 15 72 warped_button if block -291 14 63 air if entity @e[type=armor_stand,tag=!gl0w,tag=3vent,nbt=!{Passengers:[{}]}] run function library:game/manual_import

execute as @a[tag=3dit] at @s if entity @s[y=-1,dy=-60] run effect give @s levitation 1 7 true
execute as @a[tag=3dit] at @s unless entity @s[y=3,dy=-50] run effect clear @s levitation
execute as @a[tag=3dit] at @s unless entity @s[x=-309,y=-20,z=53,dx=20,dy=38,dz=21] run spreadplayers -299 63 0 6 under 11 false @s
execute as @a[tag=3dit] at @s unless entity @s[x=-309,y=-20,z=53,dx=20,dy=38,dz=21] run trigger lobby
execute as @a[scores={lobby=1..},tag=3dit] at @s run function library:game/clear/mode
execute as @a[scores={2=1..},tag=3dit] at @s run function library:game/clear/mode
execute as @a[tag=ed1t,tag=!1] at @s unless score @s mgc matches -1.. unless entity @s[x=-307,y=14,z=55,dx=16,dz=16] run function clear:chat
execute unless entity @a[gamemode=!spectator,x=-307,y=0,z=55,dx=16,dy=15,dz=16] as @e[tag=3vent,tag=gl0w] at @s run data merge entity @s {Glowing:0}
execute as @a at @s unless entity @s[x=-307,y=14,z=55,dx=16,dz=16] run tag @a remove ed1t
execute as @e[type=!player,tag=!curs0r,tag=!st0rage,type=!experience_orb,type=!falling_block,tag=!3vent,x=-307,y=0,z=55,dx=16,dy=13,dz=16] at @s unless entity @a[scores={mgc=-1..}] run kill
execute unless entity @a[tag=ed1t] run kill @e[tag=curs0r]
kill @e[type=tnt,x=-307,y=0,z=55,dx=16,dy=14,dz=16]
kill @e[type=tnt_minecart,x=-307,y=0,z=55,dx=16,dy=14,dz=16]
effect give @e[tag=3vent,tag=gl0w] invisibility 1000000 1 true
effect give @e[tag=3vent,tag=mgc_temp] invisibility 1000000 1 true
execute if entity @a[scores={mgc=0}] run scoreboard players add @e[limit=1,tag=3vent,tag=end] mgc-1.5 1
execute as @e[limit=1,tag=3vent,tag=end,scores={mgc-1.5=90}] at @s if entity @a[scores={mgc=0..,lobby=1..}] run function library:game/reset
execute as @e[limit=1,tag=3vent,tag=end,scores={mgc-1.5=91..}] at @s if entity @a[scores={mgc=0..}] run scoreboard players set @s mgc-1.5 2
execute as @a[scores={mgc=1..,d=1..}] at @s if data block -290 14 57 {Text2:'{"bold":true,"color":"white","text":"Players"}'} run tag @s add l0se
scoreboard players set @a[scores={mgc=-1..,2=1..}] mgc 0
execute if data block -290 14 57 {Text2:'{"bold":true,"color":"white","text":"Players"}'} run scoreboard players set @a[scores={mgc=-1..,d=1..}] mgc 0
scoreboard players reset @a[scores={mgc=-1..,d=1..}] d
execute at @a[scores={mgc=0}] unless entity @e[tag=3vent,tag=tr.2] run tag @e[tag=3vent,tag=target,tag=entity] remove mgc_ent
execute as @a[scores={mgc=0}] at @s unless entity @e[tag=3vent,tag=tr.2] if score @e[limit=1,tag=3vent,tag=end] mgc-1.5 matches 5.. run kill @e[tag=mgc_m0b,tag=!target]
execute if score @e[limit=1,tag=3vent,tag=end] mgc-1.5 matches 10 run scoreboard players add @a[tag=PG,scores={mgc=0..,mgc-1.5=1},tag=!l0se] pg1.2 1
execute unless data block -290 14 59 {Text2:'{"extra":[{"bold":true,"color":"white","text":"Reset:"},{"bold":true,"color":"aqua","text":" MANUAL"}],"text":""}'} if score @e[limit=1,tag=3vent,tag=end] mgc-1.5 matches 90 if entity @a[scores={mgc=0..}] run function library:game/reset
scoreboard players reset @a[tag=ed1t,scores={d=1..}] d
#DISCO
execute as @a[x=-265,y=6,z=-75,dy=3,dz=2] at @s if entity @a[x=-271,y=6,z=-74,dx=5,dy=4,dz=2] run tp ~ ~ ~-0.5
execute unless entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=true] run setblock -262 9 -69 redstone_torch
execute unless entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=true] run setblock -272 8 -70 redstone_torch
execute unless entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=true] run setblock -269 13 -71 redstone_lamp[lit=true]
execute unless entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=true] run setblock -259 2 -85 redstone_block
execute unless entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=true] run fill -268 19 -77 -270 19 -87 redstone_block keep
execute if block -271 9 -73 #trigger_blocks[powered=true] run tag @e[name="M@K"] add disc0
execute if entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=false] run setblock -262 9 -69 air
execute if entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=false] run setblock -272 8 -71 air
execute if entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=false] run setblock -269 13 -71 redstone_lamp
execute if entity @e[name="M@K",tag=disc0] if block -271 9 -73 #trigger_blocks[powered=false] run fill -268 19 -77 -270 19 -87 air replace redstone_block
execute if block -271 9 -73 #trigger_blocks[powered=false] if block -267 9 -73 #buttons run fill -261 2 -69 -259 2 -85 air replace redstone_block
execute if block -271 9 -73 #trigger_blocks[powered=false] run tag @e[name="M@K"] remove disc0
execute if block -267 9 -73 #trigger_blocks[powered=true] run function library:showoff